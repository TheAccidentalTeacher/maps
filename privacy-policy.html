<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Privacy Policy - Geographic Detective Academy</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            background: #f5f5f5;
            color: #333;
            line-height: 1.6;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            padding: 40px 20px;
        }

        header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px 20px;
            text-align: center;
            margin-bottom: 40px;
            border-radius: 12px;
        }

        header h1 {
            font-size: 32px;
            margin-bottom: 10px;
        }

        header p {
            font-size: 14px;
            opacity: 0.9;
        }

        .back-link {
            display: inline-block;
            margin-bottom: 20px;
            color: #667eea;
            text-decoration: none;
            font-weight: 600;
        }

        .back-link:hover {
            text-decoration: underline;
        }

        .content {
            background: white;
            padding: 40px;
            border-radius: 12px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        h2 {
            color: #667eea;
            font-size: 24px;
            margin: 30px 0 15px 0;
            padding-top: 20px;
            border-top: 2px solid #f0f0f0;
        }

        h2:first-child {
            margin-top: 0;
            padding-top: 0;
            border-top: none;
        }

        h3 {
            color: #333;
            font-size: 18px;
            margin: 20px 0 10px 0;
        }

        p {
            margin-bottom: 15px;
            color: #555;
        }

        ul {
            margin: 15px 0 15px 30px;
            color: #555;
        }

        li {
            margin-bottom: 8px;
        }

        .highlight {
            background: #fff3cd;
            border-left: 4px solid #ffc107;
            padding: 15px;
            margin: 20px 0;
            border-radius: 4px;
        }

        .highlight strong {
            color: #856404;
        }

        .contact-box {
            background: #f8f9fa;
            border: 2px solid #667eea;
            padding: 20px;
            border-radius: 8px;
            margin-top: 30px;
        }

        .contact-box h3 {
            color: #667eea;
            margin-top: 0;
        }

        .date {
            text-align: right;
            color: #999;
            font-size: 14px;
            margin-top: 30px;
            font-style: italic;
        }
    </style>
</head>
<body>
    <div class="container">
        <a href="login.html" class="back-link">‚Üê Back to Login</a>
        
        <header>
            <h1>üîí Privacy Policy</h1>
            <p>Geographic Detective Academy - Student Data Protection</p>
        </header>

        <div class="content">
            <div class="highlight">
                <strong>üìö FERPA Compliance:</strong> This educational application is designed to comply with the Family Educational Rights and Privacy Act (FERPA) and protect student privacy. We are committed to transparency about what data we collect and how it's used.
            </div>

            <h2>1. What Information We Collect</h2>
            <p>Geographic Detective Academy collects minimal information necessary for the educational experience:</p>
            
            <h3>Student Accounts:</h3>
            <ul>
                <li><strong>Email Address (username@mrsomers.student):</strong> Used ONLY for login authentication</li>
                <li><strong>Password:</strong> Encrypted and stored securely (we cannot see your password)</li>
                <li><strong>Full Name:</strong> Display name for personalized learning experience</li>
                <li><strong>Game Progress Data:</strong> Quiz scores, achievements unlocked, XP earned</li>
            </ul>

            <h3>Teacher Accounts:</h3>
            <ul>
                <li><strong>Email Address:</strong> School email for login authentication</li>
                <li><strong>Password:</strong> Encrypted and stored securely</li>
                <li><strong>Full Name:</strong> For account identification</li>
                <li><strong>Access to Student Progress:</strong> View-only access to monitor learning</li>
            </ul>

            <h2>2. What We DO NOT Collect</h2>
            <p><strong>We respect student privacy. We DO NOT collect:</strong></p>
            <ul>
                <li>‚ùå Physical addresses or home locations</li>
                <li>‚ùå Phone numbers</li>
                <li>‚ùå Social Security numbers or government IDs</li>
                <li>‚ùå Photos or videos of students</li>
                <li>‚ùå Browsing history outside this application</li>
                <li>‚ùå Personal social media accounts</li>
                <li>‚ùå Communication with other students</li>
                <li>‚ùå Any personally identifiable information beyond what's listed above</li>
            </ul>

            <h2>3. How We Use Your Information</h2>
            <p>Your information is used ONLY for educational purposes:</p>
            <ul>
                <li>‚úÖ <strong>Authentication:</strong> Verify your identity when you log in</li>
                <li>‚úÖ <strong>Progress Tracking:</strong> Save your game progress, scores, and achievements</li>
                <li>‚úÖ <strong>Personalization:</strong> Display your name and customize your learning experience</li>
                <li>‚úÖ <strong>Teacher Dashboard:</strong> Allow your teacher to monitor your learning progress</li>
            </ul>

            <div class="highlight">
                <strong>üö´ WE NEVER:</strong> Sell student data, share it with third parties for advertising, or use it for any commercial purposes beyond providing this educational service.
            </div>

            <h2>4. Data Storage & Security</h2>
            <h3>Where Is Data Stored?</h3>
            <ul>
                <li><strong>Database:</strong> Supabase (a secure, encrypted cloud database)</li>
                <li><strong>Location:</strong> United States data centers with enterprise-grade security</li>
                <li><strong>Encryption:</strong> All passwords are encrypted (hashed) - even we can't see them!</li>
                <li><strong>Access Control:</strong> Row-Level Security (RLS) ensures students can only see their own data</li>
            </ul>

            <h3>Security Measures:</h3>
            <ul>
                <li>üîí SSL/TLS encryption for all data transmission</li>
                <li>üîí Encrypted password storage (bcrypt hashing)</li>
                <li>üîí Row-Level Security (RLS) policies on all database tables</li>
                <li>üîí Regular security audits and updates</li>
            </ul>

            <h2>5. Data Retention</h2>
            <p><strong>How long do we keep your data?</strong></p>
            <ul>
                <li><strong>During School Year:</strong> Your account remains active for the full academic year</li>
                <li><strong>End of Year:</strong> Teacher may archive or delete student accounts at year-end</li>
                <li><strong>Account Deletion:</strong> When deleted, all personal data is permanently removed within 30 days</li>
                <li><strong>Anonymized Data:</strong> Game statistics may be kept in anonymized form for educational research (no names or identifiable info)</li>
            </ul>

            <h2>6. Third-Party Services</h2>
            <p>This application uses the following third-party services:</p>
            <ul>
                <li><strong>Supabase:</strong> Database and authentication (GDPR & SOC 2 compliant)</li>
                <li><strong>Unsplash/Pexels:</strong> Educational photos (publicly available images, no tracking)</li>
                <li><strong>OpenWeatherMap:</strong> Weather data for geography lessons (no personal data shared)</li>
                <li><strong>Leaflet/OpenStreetMap:</strong> Interactive maps (open-source, privacy-friendly)</li>
            </ul>
            <p><strong>None of these services receive any student personal information beyond what's necessary for their function.</strong></p>

            <h2>7. Student Rights (FERPA)</h2>
            <p>Under FERPA, students and parents have the right to:</p>
            <ul>
                <li>‚úÖ <strong>Inspect Records:</strong> Review all educational records we maintain</li>
                <li>‚úÖ <strong>Request Corrections:</strong> Ask to correct inaccurate information</li>
                <li>‚úÖ <strong>Control Disclosure:</strong> Limit disclosure of personal information</li>
                <li>‚úÖ <strong>File Complaints:</strong> File a complaint with the U.S. Department of Education</li>
            </ul>

            <h2>8. Parental Rights</h2>
            <p>Parents/guardians have the right to:</p>
            <ul>
                <li>üìß Request a copy of all data collected about their child</li>
                <li>üìß Request correction of inaccurate data</li>
                <li>üìß Request deletion of their child's account and all associated data</li>
                <li>üìß Opt-out of data collection (account deletion)</li>
            </ul>
            <p><strong>To exercise these rights, use the contact form below or email Mr. Somers directly.</strong></p>

            <h2>9. Age Requirements</h2>
            <p>This application is designed for middle school students (ages 11-14) under teacher supervision. We comply with:</p>
            <ul>
                <li><strong>COPPA (Children's Online Privacy Protection Act):</strong> Parental consent obtained through school</li>
                <li><strong>FERPA:</strong> Educational records protected under federal law</li>
            </ul>

            <h2>10. Changes to This Policy</h2>
            <p>We may update this Privacy Policy to reflect changes in our practices or legal requirements. When we do:</p>
            <ul>
                <li>‚úÖ We will update the "Last Updated" date at the bottom</li>
                <li>‚úÖ We will notify your teacher via email</li>
                <li>‚úÖ Your teacher will inform students of significant changes</li>
            </ul>

            <div class="contact-box">
                <h3>üì¨ Questions or Concerns?</h3>
                <p><strong>Contact:</strong> Mr. Somers</p>
                <p style="margin-bottom: 15px;"><button onclick="openContactForm()" style="background: #667eea; color: white; border: none; padding: 10px 20px; border-radius: 6px; cursor: pointer; font-size: 14px; font-weight: 600;">üìß Send Message</button></p>
                <p><strong>School:</strong> Glennallen School, Alaska</p>
                <p>We take student privacy seriously and are happy to answer any questions about how we protect your data.</p>
            </div>

            <!-- Contact Form Modal (Same as Terms of Service) -->
            <div id="contactModal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.7); z-index: 10000; align-items: center; justify-content: center;">
                <div style="background: white; padding: 40px; border-radius: 16px; max-width: 500px; width: 90%; box-shadow: 0 20px 60px rgba(0,0,0,0.3);">
                    <h2 style="margin: 0 0 10px 0; color: #667eea;">üìß Contact Mr. Somers</h2>
                    <p style="color: #666; margin-bottom: 20px; font-size: 14px;">Send a message about Privacy & Data Protection</p>
                    
                    <form id="contactForm" onsubmit="sendContactMessage(event)">
                        <div style="margin-bottom: 15px;">
                            <label style="display: block; font-weight: 600; margin-bottom: 5px; color: #333;">Your Name</label>
                            <input type="text" id="contactName" required style="width: 100%; padding: 10px; border: 2px solid #e0e0e0; border-radius: 6px; font-size: 14px;">
                        </div>
                        
                        <div style="margin-bottom: 15px;">
                            <label style="display: block; font-weight: 600; margin-bottom: 5px; color: #333;">Your Email</label>
                            <input type="email" id="contactEmail" required style="width: 100%; padding: 10px; border: 2px solid #e0e0e0; border-radius: 6px; font-size: 14px;">
                        </div>
                        
                        <div style="margin-bottom: 15px;">
                            <label style="display: block; font-weight: 600; margin-bottom: 5px; color: #333;">Subject</label>
                            <input type="text" id="contactSubject" required placeholder="e.g., Question about data privacy" style="width: 100%; padding: 10px; border: 2px solid #e0e0e0; border-radius: 6px; font-size: 14px;">
                        </div>
                        
                        <div style="margin-bottom: 20px;">
                            <label style="display: block; font-weight: 600; margin-bottom: 5px; color: #333;">Message</label>
                            <textarea id="contactMessage" required rows="5" placeholder="Type your message here..." style="width: 100%; padding: 10px; border: 2px solid #e0e0e0; border-radius: 6px; font-size: 14px; font-family: inherit; resize: vertical;"></textarea>
                        </div>
                        
                        <div style="display: flex; gap: 10px; justify-content: flex-end;">
                            <button type="button" onclick="closeContactForm()" style="background: #e0e0e0; color: #333; border: none; padding: 12px 24px; border-radius: 6px; cursor: pointer; font-weight: 600;">Cancel</button>
                            <button type="submit" style="background: #667eea; color: white; border: none; padding: 12px 24px; border-radius: 6px; cursor: pointer; font-weight: 600;">Send Message</button>
                        </div>
                    </form>
                    
                    <div id="contactSuccess" style="display: none; text-align: center; padding: 20px;">
                        <div style="font-size: 64px; margin-bottom: 10px;">‚úÖ</div>
                        <h3 style="color: #667eea; margin-bottom: 10px;">Message Sent!</h3>
                        <p style="color: #666; margin-bottom: 20px;">Mr. Somers will respond to your email soon.</p>
                        <button onclick="closeContactForm()" style="background: #667eea; color: white; border: none; padding: 12px 24px; border-radius: 6px; cursor: pointer; font-weight: 600;">Close</button>
                    </div>
                </div>
            </div>

            <script>
                function openContactForm() {
                    document.getElementById('contactModal').style.display = 'flex';
                }
                
                function closeContactForm() {
                    document.getElementById('contactModal').style.display = 'none';
                    document.getElementById('contactForm').reset();
                    document.getElementById('contactForm').style.display = 'block';
                    document.getElementById('contactSuccess').style.display = 'none';
                }
                
                async function sendContactMessage(event) {
                    event.preventDefault();
                    
                    const name = document.getElementById('contactName').value;
                    const email = document.getElementById('contactEmail').value;
                    const subject = document.getElementById('contactSubject').value;
                    const message = document.getElementById('contactMessage').value;
                    
                    try {
                        const response = await fetch('/.netlify/functions/send-contact-email', {
                            method: 'POST',
                            headers: { 'Content-Type': 'application/json' },
                            body: JSON.stringify({
                                to: 'scosom@gmail.com',
                                from: email,
                                name: name,
                                subject: `[Privacy Policy] ${subject}`,
                                message: message
                            })
                        });
                        
                        if (response.ok) {
                            document.getElementById('contactForm').style.display = 'none';
                            document.getElementById('contactSuccess').style.display = 'block';
                        } else {
                            const mailto = `mailto:scosom@gmail.com?subject=${encodeURIComponent('[Privacy Policy] ' + subject)}&body=${encodeURIComponent(`From: ${name} (${email})\n\n${message}`)}`;
                            window.location.href = mailto;
                            closeContactForm();
                        }
                    } catch (error) {
                        console.error('Error sending message:', error);
                        const mailto = `mailto:scosom@gmail.com?subject=${encodeURIComponent('[Privacy Policy] ' + subject)}&body=${encodeURIComponent(`From: ${name} (${email})\n\n${message}`)}`;
                        window.location.href = mailto;
                        closeContactForm();
                    }
                }
            </script>

            <p class="date">
                <strong>Last Updated:</strong> January 20, 2025<br>
                <strong>Effective Date:</strong> January 20, 2025
            </p>
        </div>
    </div>
</body>
</html>
